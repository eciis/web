<md-dialog flex-gt-md="40" layout="row" style="max-height: 90%;">
  <div flex>
    <md-card flex>
      <div layout="row" layout-padding>
        <img style="width: 40px; height: 40px; border-radius: 50%;" ng-src="{{ sharePostCtrl.user.current_institution.photo_url }}" class="md-user-avatar" />
        <div layout="row" layout-align="space-between" flex>
          <div layout="column" flex>
            <b class="small-text-share-post">{{ sharePostCtrl.user.current_institution.name }}</b>
            <span class="small-text-share-post">por {{ sharePostCtrl.user.name }}</span>
          </div>
          <md-button class="md-icon-button" style="padding: 0;" ng-click="sharePostCtrl.cancelDialog()">
            <md-icon>close</md-icon>
          </md-button>
        </div>
      </div>
      <md-card-content flex>
        <md-card layout-padding md-colors="{background: 'default-grey-100'}" layout="column" flex class="custom-scrollbar share-post">
          <div layout="row" style="display: -webkit-box;">
            <img style="width: 40px; height: 40px; border-radius: 50%; margin-right: 8px; display: inline-flex;" ng-src="{{ sharePostCtrl.post.institution_image }}" />
            <div layout="column" flex>
              <b class="small-text-share-post">{{ sharePostCtrl.post.institution_name }}</b>
              <span class="small-text-share-post">por {{ sharePostCtrl.post.author }}</span>
            </div>
          </div>
          <md-card-content layout-margin style="margin: 0; padding: 0;">
            <div ng-if="sharePostCtrl.showImage() && !sharePostCtrl.isEvent()" style="height: 13vh;">
              <img class="md-card-image" style="border-radius: 3%; max-width: 100%; height: 100%;" ng-src="{{ sharePostCtrl.post.photo_url }}" />
            </div>
            <p ng-if="!sharePostCtrl.isSurvey() && !sharePostCtrl.isEvent()" class="md-text">
              <b ng-bind-html="sharePostCtrl.postToURL(sharePostCtrl.post.title)"></b>
            </p>
            <event-details ng-if="sharePostCtrl.isEvent()" event="sharePostCtrl.post" is-event-page=false></event-details>
            <p class="md-subhead" ng-if="!sharePostCtrl.isEvent() && sharePostCtrl.post.text" ng-bind-html="sharePostCtrl.postToURL(sharePostCtrl.post.text)"></p>
            <pdf-view ng-if="sharePostCtrl.showPdfFiles()" pdf-files='sharePostCtrl.post.pdf_files' is-editing="false"></pdf-view>
            <survey-details style="margin: 0;" layout="column" ng-if="sharePostCtrl.isSurvey()" post="sharePostCtrl.post" posts="sharePostCtrl.posts" user="sharePostCtrl.user"
              isdialog="true" is-post-page="false" hide-xs show-gt-xs></survey-details>
          </md-card-content>
        </md-card>
      </md-card-content>
      <md-dialog-actions layout="row">
        <span flex></span>
        <md-button class="md-icon-button" ng-click="sharePostCtrl.share()">
          <md-icon>send</md-icon>
        </md-button>
      </md-dialog-actions>
    </md-card>
  </div>
</md-dialog>